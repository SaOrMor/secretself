{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","components/Navbar.js","components/Footer.js","components/CreatePost.js","pages/Home.js","pages/Signup.js","pages/Login.js","pages/Private.js","components/EditPost.js","pages/PostDetails.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","password","post","then","data","response","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","className","to","id","src","alt","onClick","CreatePost","text","handleFormSubmit","event","preventDefault","image","getAllSecret","showForm","handleInput","target","name","onSubmit","type","placeholder","onChange","listOfSecrets","showCreatePost","reverse","map","_id","handleChange","editPost","e","handleEditSubmit","cText","editText","getComments","postId","match","params","deletePost","delete","history","goBack","commentPost","toggleForm","querySelector","put","style","color","EditPost","comments","routeProps","ComponentToShow","component","exact","path","render","App","Home","PostDetails","Signup","Login","Private","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.54f44941.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true\n    });\n  }\n\n  signup( email, password ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { email, password })\n      .then(({ data }) => data);\n    // .then((response) => response.data);\n\n    return pr;\n  }\n\n  login( email, password ) {\n    const pr = this.auth\n      .post(\"/auth/login\", { email, password })\n      .then((response) => response.data);\n      \n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth\n      .get(\"/auth/logout\", {})\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth\n      .get(\"/auth/me\")\n      .then((response) => response.data);\n\n    return pr;\n  }\n}\n\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from 'react';\nimport authService from './../lib/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (email, password) => {\n    authService.signup( email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (email, password) => {\n    authService.login( email, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return class extends React.Component {\n    render() {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (<WrappedComponent \n                      {...this.props}\n                      isLoggedIn={isLoggedIn} \n                      isLoading={isLoading} \n                      user={user} \n                      signup={signup} \n                      login={login} \n                      logout={logout}\n                    />)\n\n          } }\n        </Consumer>\n        )\n    }\n}\n}\n\n\nexport { AuthProvider, withAuth }","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\nclass Navbar extends Component {\n  render() {\n    // const { user, logout, isLoggedin } = this.props;\n    return (\n      <nav className=\"navbar\">\n        <Link to={'/'} id='home-btn'>\n          <img className=\"logo\" src=\"https://insegreto.com/svg/new-logo.svg\" alt= \"logo\" />\n        </Link> \n\n        <h1 className=\"secretSelf\"> Your Secret Self</h1>\n\n        {this.props.isLoggedIn ? (\n          <>\n           { /* <p>email: {this.props.user && this.props.user.email}</p>  */ }\n            <button className=\"navbar-button\" onClick={this.props.logout}>Logout</button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">Sign Up</button>{' '}\n            </Link>\n          </>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n \n\nclass Footer extends Component {\n    render() {\n        return (\n            <footer className=\"footer\">\n                <h3>Do you have any question? Contact me at: sall.morise@gmail.com</h3>\n            </footer>\n        )\n    }\n}\n\n\nexport default withAuth(Footer)","import React, { Component } from 'react';\nimport axios from 'axios';\nimport './CreatePost.css';\n\nclass CreatePost extends Component {\n    state = {\n        text:\"\",\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n\n        const {text, image} = this.state;\n\n        axios.post(`${process.env.REACT_APP_API_URL}/api/post`,  { text, image }, {withCredentials: true} )\n        .then(() => {\n            this.props.getAllSecret();\n\n            this.props.showForm();\n\n            this.setState( { text:\"\", image:\"\" } )\n        })\n        .catch( (err) => console.log(err))\n\n    }\n    \n    handleInput = (event) => {\n\n        const {name, value} = event.target;\n\n        this.setState( { [name]: value } );\n    }\n    \n\n    render() {\n        return (\n            <div className=\"createPost\">\n                <form className=\"postForm\" onSubmit= {this.handleFormSubmit}>\n                    \n                    <textarea className=\"areaCre\" type=\"text\" \n                    name=\"text\"\n                    placeholder=\"What you have in mind?\"\n                    onChange={this.handleInput} \n                    value= {this.state.text} />\n                    <button className=\"subBut\" type=\"submit\">Send text</button>\n                </form>\n                \n            </div>\n        )\n    }\n}\n\n\nexport default CreatePost;","import React, { Component } from 'react';\nimport './Home.css';\nimport CreatePost from '../components/CreatePost';\nimport axios from 'axios';\nimport {Link, NavLink} from 'react-router-dom';\nimport {withAuth} from './../context/auth-context';\n\n\nclass Home extends Component {\n  state = {\n    listOfSecrets: [],\n    showCreatePost: false\n  }\n\n  getAllSecret = () => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/post`)\n    .then( (response) => {\n      this.setState({ listOfSecrets: response.data })\n    })\n    .catch( (err) => console.log(err));\n  }\n\n  showForm = () => {\n    this.setState( { showCreatePost: !this.state.showCreatePost} )\n  }\n\n  componentDidMount() {\n    this.getAllSecret()\n  }\n\n  // style={{width:150, height: 150, backgroundColor: 'azure', position: \"relative\"}} key={post._id}\n\n  render() {\n\n    return (\n\n<div>\n      <div className=\"coloredBack\">\n\n      { this.state.showCreatePost ?\n\n      <div className=\"wholePage\">\n        <CreatePost getAllSecret={this.getAllSecret} showForm={this.showForm}/>\n      </div>\n\n      : <button onClick={this.showForm} className=\"moreButton\"> + </button>}\n\n        \n      </div>\n\n      <h3 className=\"paragraph\"> Tell your secret to everyOne and to no one.</h3>\n\n      <div className=\"post-cont\">\n      \n      {this.state.listOfSecrets.reverse().map( (post) => {\n        return(\n          \n          \n          <div className=\"square\">\n\n          <p className=\"secret-message\"> {post.text}</p>\n\n          <NavLink to={\"/api/post/\" + post._id}>\n          \n          <button className=\"commButt\"> Comment</button>\n          </NavLink>\n\n      \n          </div>\n          \n        )\n        \n      })}\n\n      \n      </div>\n\n      \n\n\n      </div>\n    )\n  }\n\n\n  \n}\n\nexport default withAuth(Home);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../context/auth-context';\n\nclass Signup extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    \n    this.props.signup( email, password );\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    console.log(\"this.props\", this.props)\n    const { email, password } = this.state;\n    return (\n      <div>\n        <h1>Sign Up</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n\n          <label>email:</label>\n          <input type=\"email\" name=\"email\" value={email} onChange={this.handleChange} />\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n        \n        <p>Already have account?</p>\n        <Link to={\"/login\"}> Login</Link>\n      </div>\n    );\n  }\n}\n\n\n\nexport default withAuth(Signup);\n\n\n// const EnhancedSignup = withAuth(Signup)\n// export default EnhancedSignup;","import React, { Component } from \"react\";\nimport { withAuth } from './../context/auth-context';\n\nclass Login extends Component {\n  state = { email: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    // Call funciton coming from AuthProvider ( via withAuth )\n    this.props.login(email, password);\n\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <div>\n        <h1>Login</h1>\n\n        <form onSubmit={this.handleFormSubmit}>\n          \n          <label>email:</label>\n          <input type=\"email\" name=\"email\" value={email} onChange={this.handleChange}/>\n\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { withAuth } from './../context/auth-context';\n\nclass Private extends Component {\n  \n  \n  render() {\n\n    console.log(\"this.props\", this.props)\n    return (\n      <div>\n        <h1>Private Route</h1>\n        <h2>Welcome {this.props.user && this.props.user.email}</h2>\n        {/* \n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \n        */}\n\n      </div>\n    );\n  }\n}\n\n\nexport default withAuth(Private);\n","import React, { Component } from 'react';\n// import axios from 'axios';\n\nclass editPost extends Component {\n    state = {\n        text: this.props.text,\n    }\n\n     /*  handleEditSubmit = () => {\n\n        const postId = this.props.match.params.id;\n        const text = this.state.text;\n        \n        axios.put(`http://localhost:5000/api/post/${postId}`, {text},\n        {withCredentials: true} )\n\n        .then( (response) => {\n            console.log(\"response\", response)\n            this.setState( {text: text} )\n        }).catch( (err) => {\n            console.log(err)\n        })\n    } */\n\n    handleInput = (e) => {\n\n        const {name, value} = e.target;\n\n        console.log(\"name\",name)\n        console.log(\"value\",value)\n\n        this.setState( { [name]: value } );\n    }\n\n    render() {\n        return (\n            <div>\n                \n                <form onSubmit={this.props.handleEditSubmit}>\n\n                <input \n                value = {this.state.text}\n                name=\"text\" type=\"text\"\n                onChange = {this.handleInput}\n                 />\n                \n                <button type=\"submit\"> submit changes </button>\n                \n                </form>\n\n            </div>\n        )\n    }\n}\n\nexport default editPost;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {withAuth} from './../context/auth-context';\nimport EditPost from '../components/EditPost';\nimport './PostDetails.css';\n\nclass PostDetails extends Component {\n    state = {\n        post: [],\n        cText: \"\",\n        editText: \"\",\n        showForm: true\n    }\n\n    getComments = () => {\n\n        const postId = this.props.match.params.id \n\n        axios.get(`${process.env.REACT_APP_API_URL}/api/post/${postId}`, {withCredentials: true})\n\n        .then((response) => {\n            this.setState({ post: response.data})\n        }\n        )\n        \n        .catch( (err) => {console.log(err)\n        }   \n        )}\n\n    \n\n    componentDidMount() {\n        this.getComments()\n    }\n\n    deletePost = () => {\n        const postId = this.props.match.params.id;\n        axios.delete(`${process.env.REACT_APP_API_URL}/api/post/${postId}`, {withCredentials: true})\n        .then((response) => {\n            console.log(\"post deleted response\", this.props)\n            this.props.history.goBack()\n        }\n        )\n        .catch( (err) => { console.log(err) })\n    }\n\n    handleChange = (event) => {\n        \n        const { name, value } = event.target;\n\n        this.setState( { [name]: value } )\n        console.log(event.target)\n    }\n\n\n    commentPost = () => {\n        const postId = this.props.match.params.id;\n        const cText = this.state.cText;\n\n        axios.post(`${process.env.REACT_APP_API_URL}/api/post/${postId}/comment`, {cText},\n        \n        {withCredentials: true} )\n\n        .then( () => {\n            this.getComments()\n            console.log(\"comments request sent\")\n\n            this.setState( {cText: \"\"})\n        }).catch((err) => {\n            console.log(err)\n        })\n      }\n\n      toggleForm = () => {\n        this.setState( {showForm: !this.state.showForm } )\n      }\n\n\n      handleEditSubmit = (e) => {\n        e.preventDefault()\n\n        const postId = this.props.match.params.id;\n\n        const {value} = e.target.querySelector('input')\n\n        axios.put(`${process.env.REACT_APP_API_URL}/api/post/${postId}`, {text:value},\n        {withCredentials: true} )\n        .then( (response) => {\n            \n           this.setState( {post: response.data, showForm:true } )\n\n        }).catch( (err) => {\n            console.log(err)\n        })\n      }\n\n    \n    render() {        \n        return (\n            <div className=\"postDetails\">\n                       \n                {  this.state.showForm ? \n                   <h2 style={{color: \"rgb(106, 90, 205)\"}}> {this.state.post.text}</h2> \n                    :\n                    <EditPost text={this.state.post.text} \n                    handleEditSubmit={this.handleEditSubmit}\n                    editText={this.state.editText}\n                    />\n                }\n\n\n\n                <div>\n                \n                    {this.state.post.comments && this.state.post.comments.map( (comments) => {\n                        \n                        return(\n                            \n                            <div key={comments._id}>\n\n                        <h4 style={{color: \"rgb(255, 165, 0)\"}}>{comments.cText}</h4>\n\n                        </div>\n                        )\n                        \n                    })}\n\n                \n                </div>\n\n\n                { \n                    this.props.user._id === this.state.post.user\n\n                    ?\n                    <div className=\"delEdit\">\n\n                    <button className=\"deleteButt\" onClick={this.deletePost}>\n                    Delete post</button>\n\n                    <button className=\"buttComm\" onClick = {this.toggleForm}>\n                    edit post </button>\n\n                    </div>\n\n\n\n\n                    : null\n\n                }\n                \n\n\n                <form className=\"formComm\">\n\n                <textarea type=\"text\" \n                placeholder=\"Remember, be nice!\"\n                name =\"cText\" \n                onChange={this.handleChange} \n                value = {this.state.cText}/>\n                <button className=\"buttComm\" onClick={this.commentPost}> Comment </button>\n\n                </form>\n                \n                \n            </div>\n        )\n    }\n}\n\nexport default withAuth(PostDetails);","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './pages/Home';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Private from './pages/Private';\nimport PostDetails from './pages/PostDetails';\n\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/api/post/:id\" component={PostDetails} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/private\" component={Private} />\n        </Switch>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}